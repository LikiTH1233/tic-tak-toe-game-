"use strict";for(var socket=io(),playerNameInput=document.getElementById("playerName"),createBtn=document.getElementById("createBtn"),joinBtn=document.getElementById("joinBtn"),roomInput=document.getElementById("roomInput"),nameScreen=document.getElementById("nameScreen"),roomScreen=document.getElementById("roomScreen"),roomInfo=document.getElementById("roomInfo"),scoreboard=document.getElementById("scoreboard"),boardDiv=document.getElementById("board"),restartBtn=document.getElementById("restartBtn"),modal=document.getElementById("modal"),modalMsg=document.getElementById("modalMsg"),playAgainBtn=document.getElementById("playAgainBtn"),chatContainer=document.getElementById("chatContainer"),chatBox=document.getElementById("chatBox"),chatInput=document.getElementById("chatInput"),sendBtn=document.getElementById("sendBtn"),switchBtn=document.getElementById("switchBtn"),switchRequestContainer=document.getElementById("switchRequestContainer"),switchRequestMsg=document.getElementById("switchRequestMsg"),acceptSwitchBtn=document.getElementById("acceptSwitchBtn"),declineSwitchBtn=document.getElementById("declineSwitchBtn"),roomId=null,mySymbol=null,myName=null,players=[],i=0;i<9;i++){var cell=document.createElement("div");cell.classList.add("cell"),cell.dataset.index=i,boardDiv.appendChild(cell)}var cells=document.querySelectorAll(".cell");function showBoard(e){nameScreen.style.display="none",roomScreen.style.display="block",roomInfo.textContent=e,restartBtn.style.display="block",chatContainer.style.display="block"}function updateScoreboard(){scoreboard.innerHTML=players.map(function(e){return"".concat(e.name," (").concat(e.symbol,"): ").concat(e.score)}).join(" | ")}createBtn.addEventListener("click",function(){var e=playerNameInput.value.trim();if(!e)return alert("Enter your name!");myName=e,socket.emit("createRoom",{name:e})}),joinBtn.addEventListener("click",function(){var e=playerNameInput.value.trim(),t=roomInput.value.trim();if(!e||!t)return alert("Enter name and room ID!");myName=e,socket.emit("joinRoom",{name:e,roomId:t})}),cells.forEach(function(e){e.addEventListener("click",function(){roomId&&mySymbol&&socket.emit("makeMove",{roomId:roomId,index:e.dataset.index})})}),restartBtn.addEventListener("click",function(){socket.emit("restartGame",roomId)}),playAgainBtn.addEventListener("click",function(){modal.style.display="none",socket.emit("restartGame",roomId)}),sendBtn.addEventListener("click",function(){var e=chatInput.value.trim();e&&(socket.emit("sendMessage",{roomId:roomId,name:myName,message:e}),chatInput.value="")}),socket.on("receiveMessage",function(e){var t=e.name,n=e.message;chatContainer.style.display="block";var o=document.createElement("div");o.textContent="".concat(t,": ").concat(n),chatBox.appendChild(o),chatBox.scrollTop=chatBox.scrollHeight}),switchBtn.addEventListener("click",function(){socket.emit("requestSwitch",{roomId:roomId,name:myName})}),socket.on("switchRequest",function(e){var t=e.from;switchRequestContainer?(switchRequestMsg.textContent="".concat(t," wants to switch symbols."),switchRequestContainer.style.display="block"):alert("".concat(t," wants to switch symbols."))}),acceptSwitchBtn.addEventListener("click",function(){socket.emit("switchResponse",{roomId:roomId,accepted:!0}),switchRequestContainer.style.display="none"}),declineSwitchBtn.addEventListener("click",function(){socket.emit("switchResponse",{roomId:roomId,accepted:!1}),switchRequestContainer.style.display="none"}),socket.on("switchUpdate",function(e){var t=e.message,n=e.players;alert(t);var o=(players=n).find(function(e){return e.id===socket.id});o&&(mySymbol=o.symbol),updateScoreboard(),roomInfo.textContent="Game Started! You are ".concat(mySymbol)}),socket.on("roomCreated",function(e){var t=e.roomId,n=e.symbol;mySymbol=n,showBoard("Room Created! Code: ".concat(roomId=t," | You are ").concat(mySymbol))}),socket.on("joinedRoom",function(e){var t=e.roomId,n=e.symbol;roomId=t,showBoard("Joined Room! You are ".concat(mySymbol=n))}),socket.on("startGame",function(e){var t=(players=e.players).find(function(e){return e.name===myName});t&&(mySymbol=t.symbol),showBoard("Game Started! You are ".concat(mySymbol)),updateScoreboard()}),socket.on("updateBoard",function(e){var n=e.board,t=(e.currentPlayer,e.players),o=e.gameOverMsg;players=t,cells.forEach(function(e,t){e.textContent=n[t]||"",e.classList.toggle("taken",!!n[t])}),updateScoreboard(),o&&(modal.style.display="flex",modalMsg.textContent=o)}),socket.on("errorMsg",function(e){return alert(e)});
//# sourceMappingURL=script.min.js.map
